{"mappings":"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","sources":["src/js/scroll-btn.js","src/js/header-menu.js","src/js/modals.js"],"sourcesContent":["(function () {\n  function trackScroll() {\n    var scrolled = window.pageYOffset;\n    var coords = document.documentElement.clientHeight;\n\n    if (scrolled > coords / 2) {\n      goTopBtn.classList.add('back_to_top-show');\n    }\n    if (scrolled < coords / 2) {\n      goTopBtn.classList.remove('back_to_top-show');\n    }\n  }\n\n  function backToTop() {\n    if (window.pageYOffset > 0) {\n      window.scroll(0, 0);\n      // setTimeout(backToTop, 5000);\n    }\n  }\n\n  var goTopBtn = document.querySelector('.back_to_top');\n\n  window.addEventListener('scroll', trackScroll);\n  goTopBtn.addEventListener('click', backToTop);\n})();\n","(() => {\n  const refs = {\n    openMenuBtn: document.querySelector('.header__menu-open'),\n    closeMenuBtn: document.querySelector('.header__menu-close'),\n    menu: document.querySelector('[data-menu]'),\n    menuopen: document.querySelector('[data-menu-open]'),\n    buttonhidden: document.querySelector('.header__menu-open'),\n    button: document.querySelector('.header__button'),\n    body: document.querySelector('body'),\n    animation: document.querySelector('.animation'),\n    openAnimation: document.querySelector('.header__menu-open'),\n    closeAnimation: document.querySelector('.header__menu-close'),\n    animationClose: document.querySelector('.animation-close'),\n    openAnimationClose: document.querySelector('.header__menu-open'),\n    closeAnimationClose: document.querySelector('.header__menu-close'),\n    closeMobileMenu: document.querySelectorAll('.mobile-menu-close'),\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n  refs.openAnimation.addEventListener('click', toggleAnimation);\n  refs.closeAnimationClose.addEventListener('click', toggleAnimation);\n  refs.openAnimationClose.addEventListener('click', toggleAnimationClose);\n  refs.closeAnimationClose.addEventListener('click', toggleAnimationClose);\n  refs.buttonhidden.addEventListener('click', toggleButtonHidden);\n  refs.openAnimationClose.addEventListener('click', toggleButtonHidden);\n  refs.closeAnimationClose.addEventListener('click', toggleButtonHidden);\n  refs.closeMobileMenu.forEach(e => e.addEventListener('click', toggleMenu));\n  refs.closeMobileMenu.forEach(e =>\n    e.addEventListener('click', toggleAnimation)\n  );\n  refs.closeMobileMenu.forEach(e =>\n    e.addEventListener('click', toggleAnimationClose)\n  );\n  refs.closeMobileMenu.forEach(e =>\n    e.addEventListener('click', toggleButtonHidden)\n  );\n\n  function toggleMenu() {\n    refs.menu.classList.toggle('is-hidden');\n    refs.body.classList.toggle('no-scroll');\n  }\n  function toggleAnimation() {\n    refs.menuopen.classList.toggle('animation');\n  }\n  function toggleAnimationClose() {\n    refs.menuopen.classList.toggle('animation-close');\n  }\n  function toggleButtonHidden() {\n    refs.button.classList.toggle('header__button-hidden');\n  }\n})();\n","// !(function (e) {\n//   'function' != typeof e.matches &&\n//     (e.matches =\n//       e.msMatchesSelector ||\n//       e.mozMatchesSelector ||\n//       e.webkitMatchesSelector ||\n//       function (e) {\n//         for (\n//           var t = this,\n//             o = (t.document || t.ownerDocument).querySelectorAll(e),\n//             n = 0;\n//           o[n] && o[n] !== t;\n\n//         )\n//           ++n;\n//         return Boolean(o[n]);\n//       }),\n//     'function' != typeof e.closest &&\n//       (e.closest = function (e) {\n//         for (var t = this; t && 1 === t.nodeType; ) {\n//           if (t.matches(e)) return t;\n//           t = t.parentNode;\n//         }\n//         return null;\n//       });\n// })(window.Element.prototype);\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  /* Записываем в переменные массив элементов-кнопок и подложку.\n      Подложке зададим id, чтобы не влиять на другие элементы с классом overlay*/\n  const modalButtons = document.querySelectorAll('.js-open-modal'),\n    overlay = document.querySelector('.js-overlay-modal'),\n    closeButtons = document.querySelectorAll('.js-modal-close');\n\n  /* Перебираем массив кнопок */\n  modalButtons.forEach(function (item) {\n    /* Назначаем каждой кнопке обработчик клика */\n    item.addEventListener('click', function (e) {\n      /* Предотвращаем стандартное действие элемента. Так как кнопку разные\n            люди могут сделать по-разному. Кто-то сделает ссылку, кто-то кнопку.\n            Нужно подстраховаться. */\n      e.preventDefault();\n\n      /* При каждом клике на кнопку мы будем забирать содержимое атрибута data-modal\n            и будем искать модальное окно с таким же атрибутом. */\n      const modalId = this.getAttribute('data-modal');\n\n      const modalElem = document.querySelector(\n        '.modal[data-modal=\"' + modalId + '\"]'\n      );\n\n      /* После того как нашли нужное модальное окно, добавим классы\n            подложке и окну чтобы показать их. */\n      modalElem.classList.add('active');\n      overlay.classList.add('active');\n      window.addEventListener('keydown', onEscKeyPress);\n      document.body.classList.add('modal-open');\n    }); // end click\n  }); // end foreach\n\n  closeButtons.forEach(function (item) {\n    item.addEventListener('click', function (e) {\n      const parentModal = this.closest('.modal');\n\n      parentModal.classList.remove('active');\n      overlay.classList.remove('active');\n      document.body.classList.remove('modal-open');\n    });\n  }); // end foreach\n\n  // document.body.addEventListener(\n  //   'keyup',\n  //   function (e) {\n  //     var key = e.keyCode;\n\n  //     if (key == 27) {\n  //       document.querySelector('.modal.active').classList.remove('active');\n  //       document.querySelector('.overlay').classList.remove('active');\n  //     }\n  //   },\n  //   false\n  // );\n\n  function onEscKeyPress(event) {\n    const ESC_KEY_CODE = 'Escape';\n    const isEscKey = event.code === ESC_KEY_CODE;\n\n    if (isEscKey) {\n      console.log(document.querySelector('.modal-overlay'));\n      document.querySelector('.modal.active').classList.remove('active');\n      document\n        .querySelector('.modal-overlay.active')\n        .classList.remove('active');\n      document.body.classList.remove('modal-open');\n      window.removeEventListener('keydown', onEscKeyPress);\n    }\n  }\n\n  overlay.addEventListener('click', function () {\n    document.querySelector('.modal.active').classList.remove('active');\n    this.classList.remove('active');\n    document.body.classList.remove('modal-open');\n  });\n}); // end ready\n"],"names":["goTopBtn","refs","openMenuBtn","document","querySelector","closeMenuBtn","menu","menuopen","buttonhidden","button","body","animation","openAnimation","closeAnimation","animationClose","openAnimationClose","closeAnimationClose","closeMobileMenu","querySelectorAll","toggleMenu","classList","toggle","toggleAnimation","toggleAnimationClose","toggleButtonHidden","addEventListener","forEach","e","window","scrolled","pageYOffset","coords","documentElement","clientHeight","add","remove","scroll","overlay","closeButtons","onEscKeyPress","event","code","console","log","removeEventListener","modalButtons","item","modalId","this","closest"],"version":3,"file":"index.f1ec03ba.js.map"}